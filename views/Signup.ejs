<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Sign In</title>
        <link rel="stylesheet" href="loginStyle.css">
        <link rel="icon" href="media/favicon.ico">
    </head>
    <body>

        <!-- loader -->
        <div class="loader">
            <img src="./media/loading.gif" style="width: 50px; height: 50px;" alt="Loading..."/>
        </div>
        
        <nav style="position: fixed; z-index: 999; ">
            <a href="/home" style="text-decoration: none;margin:20px;color: azure;background-color: #57CC99; padding: 5px;border-radius:5px;"> Proceed without Login</a>
        </nav>
        <div class="container">
            <!-- login form -->
            <div class="form-box" id="log">
                <form id="login" class="login" method="POST" action="/api/login">

                    <h2 class="title">Login</h2>
                    
                    <div class="input-group">
                        <label for="username" class="input-label">Email ID</label>
                        <input type="email" name="email" id="username" class="form-control" placeholder="Your Email ID" required>
                        <small class="form-message" id="log-email-err">Test</small>
                    </div>
                    <div class="input-group">
                        <label for="password0" class="input-label">Password</label>
                        <input type="password"  name="password" id="password0" class="form-control" placeholder="Password" required>
                        <small class="form-message" id="log-pass-err">Test</small>
                        <% if(Msg !== null){ %>
                            <small style=<%= style %> class="form-Msg"><%= Msg %></small>
                        <% } %>
                        
                    </div>
                    <br>
                    <!-- <a href="/home" style="text-decoration: none;"> Explore without Login</a> -->
                    <button class="btn" id="login-btn" type="submit">Log in</button> 
                    
                </form>
                <div class="toggler">
                    <button id="register-tgl" onclick="register()" class="toggle" type="button" >Do not have an Account? Click here to Register one!</button>
                </div>
            </div>

            <!-- Registration Form -->
            <div class="form-box" id="reg">
                <h2 class="title">Register</h2>
                <form class="register" id="register" method="POST" action="/api/addusr">
                    <div class="input-group">
                        <label for="name" class="input-label">Full Name</label>
                        <input type="text" name="full_name" id="name" class="form-control" placeholder="First-Name Last-Name" required>
                        <small class="form-message" id="reg-name-err">Test</small>
                    </div>
                    <div class="input-group">
                        <label for="email" class="input-label">Email Id</label> 
                        <input type="email" name="email" id="email" class="form-control" placeholder="Your Email ID" required>
                        <small class="form-message" id="reg-email-err">Test</small>
                    </div>
                    <div class="input-group">
                        <label for="mobile" class="input-label">Mobile No</label>
                        <input type="tel" id="mobile" name="mobile" class="form-control" placeholder="Mobile Number" required>
                        <small class="form-message" id="reg-mobile-err">Test</small>
                    </div>
                    <div class="input-group gender">
                        <label for="gender" class="input-label-gender">Gender</label>
                        <input type="radio" class="gender" value="Male" name="gender" checked><span>Male</span>
                        <input type="radio" class="gender" value="Female" name="gender"><span>Female</span>
                        <input type="radio" class="gender" value="Other" name="gender"><span>Other</span>
                    </div>
                    <div class="input-group">
                        <label for="password1" class="input-label">Password</label>
                        <input type="password" name="password" id="password1" class="form-control" placeholder="Password" required>
                        <small class="form-message" id="reg-pass-err">Test</small>
                    </div>
                    <div class="input-group">
                        <label for="password2" class="input-label">Confirm Password</label>
                        <input type="password" id="password2" name="conpassword" class="form-control" placeholder="Re-enter Your Password" required>
                        <small class="form-message" id="reg-repass-err">Test</small>
                    </div>
                    <button class="btn" id="register-btn" type="submit">Sign Up</button>
                </form>
                <div class="toggler">
                    <button id="login-tgl" class="toggle" type="button" onclick="login()">Have an Account? Click here to Login!</button>
                </div>
            </div>
        </div>

        <script>
            let x = document.getElementById("log");
            let y = document.getElementById("reg");
            let z = document.getElementById("login-tgl");
            let w = document.getElementById("register-tgl")

            function register() {
                x.style.left = "-550px";
                y.style.left = "50px";
            }

            function login() {
                x.style.left = "50px";
                y.style.left = "550px";
            }
        </script>
        <script>
            window.addEventListener("load", function () {
            const loader = document.querySelector(".loader");
            loader.className += " hidden"; //class loader hidden
            });
        </script>
    </body>
</html>
